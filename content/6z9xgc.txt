<p><strong>题干=</strong><br/></p><p>什么是SPI，它和API的区别是什么？</p><p><strong>答案=</strong></p><p>API和SPI都是接口，只是涉及的调用方和提供方是相反的：</p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p>API是给别人用的，实现者通常是自己，把API给别人去调用；</p></li><li><p>SPI是给自己用的，实现者通常是别人，SPI是供自己去调用；</p></li></ul><p>例如Java里面的java.sql.Driver就是一个典型的SPI，java本身不提供Driver的实现，需要第三方去实现它，然后Java自己去调用这个SPI。</p><p>面向的对象的设计里，我们一般推荐模块之间基于接口编程，模块之间不对实现类进行硬编码。一旦代码里涉及具体的实现类，就违反了可拔插的原则，如果需要替换一种实现，就需要修改代码。为了实现在模块装配的时候不用在程序里动态指明，这就需要一种服务发现机制。java spi就是提供这样的一个机制：为某个接口寻找服务实现的机制。这有点类似IOC的思想，将装配的控制权移到了程序之外。</p><p>参见：<a href="https://zhuanlan.zhihu.com/p/28909673">https://zhuanlan.zhihu.com/p/28909673</a> </p><p><br/></p>