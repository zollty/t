<p>题干=</p><p>说说redis实现分布式锁的方案？</p><p>答案=</p><p>网上有非常成熟的方案。比如Redlock：<a href="https://www.oschina.net/translate/redis-distlock">https://www.oschina.net/translate/redis-distlock</a></p><p>最简单的方法如下：</p><p>使用Redis锁住资源的最简单的方法是创建一对key-value值。利用Redis的超时机制，key被创建为有一定的生存期，因此它最终会被释放。而当客户端想要释放时，直接删除key就行了。</p><p>一般来说这工作得很好，但有个问题: 这是系统的一个单点。如果Redis主节点挂了呢？当然，我们可以加个子节点，主节点出问题时可以切换过来。不过很可惜，这种方案不可行，因为Redis的主-从复制是异步的，我们无法用其实现互斥的安全特性。</p><p><br/></p>