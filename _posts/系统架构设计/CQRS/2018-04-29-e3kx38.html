---
layout: post
publishTime: 2018-04-29
category: 系统架构设计
tags: CQRS
---

<div style="border:1px solid #3c763d; padding:0 8px; margin:0 -8px;" onclick="$('#9byxx5').fadeToggle(100);"><p><strong>题干=</strong></p><p>在数据库方面，什么是CRUD和CQRS？</p></div><div id="9byxx5" style="display:none;border:1px solid #317090; border-top-color:#aabaaa; padding:0 8px; margin:0 -4px;"><p><strong>答案=</strong></p><ul class=" list-paddingleft-2" style="list-style-type: disc;"><li><p>CRUD：即创建（Create）、读取（Retrieve）、更新（Update）和删除（Delete）操作。</p></li><li><p>CQRS：命令查询<strong>职责分离</strong>模式(Command Query Responsibility Segregation，CQRS)</p></li></ul><p>&nbsp; &nbsp; 该模式从业务上<strong>分离修改</strong> (<em>Command</em>，增/删/改)<strong>和查询</strong>（<em>Query</em>，查，不会对系统状态进行修改)的行为。从而使得逻辑更加清晰，便于对不同部分进行针对性的优化。</p><p>&nbsp; &nbsp; 系统中的<strong>读写频率比，是偏向读，还是偏向写</strong>，就如同一般的数据结构在查找和修改上时间复杂度不一样，在设计系统的结构时也需要考虑这样的问题。解决方法就是我们经常用到的对数据库进行<strong>读写分离</strong>。 让<strong>主数据库</strong>处理事务性的增，删，改操作(Insert,Update,Delete)操作，让<strong>从数据库</strong>处理查询操作(Select操作)，数据库复制被用来将事务性操作导致的变更同步到集群中的从数据库。<em>这只是从DB角度处理了读写分离，但是从业务或者系统上面，读和写仍然是存放在一起的。</em>他们都是用的同一个实体对象。要从业务上将读和写分离，就是接下来要介绍的<strong>命令查询职责分离模式</strong>。</p><p>参见：<a href="http://www.cnblogs.com/yangecnu/p/Introduction-CQRS.html">http://www.cnblogs.com/yangecnu/p/Introduction-CQRS.html</a> </p><p style='line-height: 1;'><br/></p></div>