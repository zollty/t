---
layout: post
publishTime: 2018-04-29
category: 系统架构设计
tags: 架构理论
---

<div style="border:1px solid #3c763d; padding:0 8px; margin:0 -8px;" onclick="$('#k9z9xy').fadeToggle(100);"><p><strong>题干=</strong></p><p>什么是SOA？SOA和微服务架构的区别？</p></div><div id="k9z9xy" style="display:none;border:1px solid #317090; border-top-color:#aabaaa; padding:0 8px; margin:0 -4px;"><p><strong>答案=</strong></p><p>SOA（Service-Oriented&nbsp;Architecture，面向服务的架构），是一种粗粒度、松耦合服务架构，服务之间通过简单、精确定义接口进行通讯。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得各种服务可以以一种统一的方式进行交互。关键词：松散耦合，可重用的服务，服务接口设计管理，标准化的服务接口。</p><p>如果一句话来谈SOA和微服务的区别，即微服务不再强调传统SOA架构里面比较重的ESB企业服务总线，同时SOA的思想进入到单个业务系统内部实现真正的组件化。</p><p>微服务架构强调的第一个重点就是业务系统需要彻底的组件化和服务化，原有的单个业务系统会拆分为多个可以独立开发，设计，运行和运维的小应用。</p><p>一个微服务一般完成某个特定的功能，比如订单管理、客户管理等。每个微服务都是一个微型应用，有着自己六边形架构，包括商业逻辑和各种接口。</p><p>&nbsp;微服务架构的优势和不足</p><p>1.系统复杂：内部多个模块紧耦合，关联依赖复杂，牵一发而动全身。</p><p>2.运维困难：变更或升级的影响分析困难，任何一个小修改都可能导致单体应用整体运行出现故障。</p><p>3.无法扩展：无法拆分部署，出现性能瓶颈后往往只能够增加服务器或增加集群节点，但是DB问题难解决。</p><p>微服务请求：</p><p>但最常见的两个协议是&nbsp;REST&nbsp;和&nbsp;Thrift。</p><p>Thrift&nbsp;也能够让你选择传输协议，包括原始&nbsp;TCP&nbsp;和&nbsp;HTTP。原始&nbsp;TCP&nbsp;比&nbsp;HTTP&nbsp;更高效，然而&nbsp;HTTP&nbsp;对于防火墙、浏览器和使用者来说更友好。文中对于两种实现方式已经描述的相当详细，可以看到当前互联网OpenAPI平台和微服务架构实现中仍然是大量以采用Rest&nbsp;API接口为主。</p><p>而对于消息格式的选择，可以看到在使用RestAPI接口的时候，更多的是采用了Json消息格式而非XML，对于SOAP&nbsp;WebService则更多采用了XML消息格式。如果采用Thrift则还可以采用二进制消息格式以提升性能。</p><p style='line-height: 1;'><br/></p></div>