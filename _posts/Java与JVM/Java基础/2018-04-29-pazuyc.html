---
layout: post
publishTime: 2018-04-29
category: Java与JVM
tags: [Java基础]
---

<div style="border:1px solid #3c763d; padding:0 8px; margin:0 -8px;" onclick="$('#5cxee5').fadeToggle(100);"><p><strong>题干=</strong></p><p>什么是Java的自动装箱与拆箱？它们的作用是什么？</p></div><div id="5cxee5" style="display:none;border:1px solid #317090; border-top-color:#aabaaa; padding:0 8px; margin:0 -4px;"><p><strong>答案=</strong></p><p>装箱：将基本类型用它们对应的引用类型包装起来；</p><p>拆箱：将包装类型转换为基本数据类型；</p><p>Java使用自动装箱和拆箱机制，节省了常用数值的内存开销和创建对象的开销，提高了效率，由编译器来完成，编译器会在编译期根据语法决定是否进行装箱和拆箱动作。</p><p style='line-height: 1;'><br/></p></div><div style="border:1px solid #3c763d; padding:0 8px; margin:0 -8px;" onclick="$('#zec6a3').fadeToggle(100);"><p><strong>题干=</strong></p><p>什么是泛型、为什么要使用，以及什么是泛型擦除？</p></div><div id="zec6a3" style="display:none;border:1px solid #317090; border-top-color:#aabaaa; padding:0 8px; margin:0 -4px;"><p><strong>答案=</strong></p><p>泛型，即“参数化类型”。</p><p>创建集合时就指定集合元素的类型，该集合只能保存其指定类型的元素，避免使用强制类型转换。</p><p>Java编译器生成的字节码是不包涵泛型信息的，泛型类型信息将在编译处理是被擦除，这个过程即类型擦除。&nbsp;泛型擦除可以简单的理解为将泛型java代码转换为普通java代码，只不过编译器更直接点，将泛型java代码直接转换成普通java字节码。</p><p>类型擦除的主要过程如下：</p><ol class=" list-paddingleft-2" style="list-style-type: decimal;"><li><p>将所有的泛型参数用其最左边界（最顶级的父类型）类型替换。</p></li><li><p>移除所有的类型参数。</p></li></ol><p style='line-height: 1;'><br/></p></div><div style="border:1px solid #3c763d; padding:0 8px; margin:0 -8px;" onclick="$('#x9xbcn').fadeToggle(100);"><p><strong>题干=</strong></p><p>什么是java编译器生成的桥接方法（bridge method），编译器在什么情况下会自动生成桥接方法？为什么要生成桥接方法？</p></div><div id="x9xbcn" style="display:none;border:1px solid #317090; border-top-color:#aabaaa; padding:0 8px; margin:0 -4px;"><p><strong>答案=</strong></p><p>桥接方法：桥接方法是 JDK 1.5 引入泛型后，为了使Java的泛型方法生成的字节码和 1.5 版本前的字节码相兼容，由编译器自动生成的方法。</p><p>什么时候生成：可以查看JLS中的描述http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.12.4.5。就是说一个子类在继承（或实现）一个父类（或接口）的泛型方法时，在子类中明确指定了泛型类型，那么在编译时编译器会自动生成桥接方法（当然还有其他情况会生成桥接方法，这里只是列举了其中一种情况）。</p><p>为什么：因为泛型是在1.5引入的，为了向前兼容，所以会在编译时去掉泛型（泛型擦除），由于java泛型的擦除特性，如果不生成桥接方法，那么与1.5之前的字节码就不兼容了。</p><p style='line-height: 1;'><br/></p></div>